// Generated by CoffeeScript 1.6.1
(function() {
  var Outstanding, _ref,
    _this = this;

  if ((_ref = window.nicetohave) == null) {
    window.nicetohave = {};
  }

  Outstanding = (function() {

    function Outstanding() {
      var _this = this;
      this.completed = function(c) {
        return Outstanding.prototype.completed.apply(_this, arguments);
      };
      this.started = function(s) {
        return Outstanding.prototype.started.apply(_this, arguments);
      };
      this.reset = function() {
        return Outstanding.prototype.reset.apply(_this, arguments);
      };
      this.count = ko.observable(0);
    }

    Outstanding.prototype.reset = function() {
      return this.count(0);
    };

    Outstanding.prototype.started = function(s) {
      var curr, inc, next;
      inc = s != null ? s : 1;
      if (inc <= 0) {
        throw {
          message: "Started is not >= 0: " + inc
        };
      }
      curr = this.count();
      next = this.count() + inc;
      return this.count(next);
    };

    Outstanding.prototype.completed = function(c) {
      var curr, dec, next;
      dec = c != null ? c : 1;
      if (dec <= 0) {
        throw {
          message: "Completed is not >= 0: " + dec
        };
      }
      curr = this.count();
      next = this.count() - dec;
      if (dec > curr) {
        throw {
          message: "Completed is more than outstanding: " + dec + " > " + curr
        };
      }
      return this.count(next);
    };

    return Outstanding;

  })();

  window.nicetohave.Outstanding = Outstanding;

}).call(this);
